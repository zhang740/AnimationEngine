<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>AnimationEngine Demo</title>
    <style type="text/css">
    #content,
    #content div {
        border: 1px solid red;
        margin: 10px 10px 10px 0px;
        padding: 10px;
    }
    
    div[id^='test'] {
        width: 80px;
    }
    
    storyboard {
        display: none;
    }
    </style>
    <script type="text/javascript" src="animationEngine.ie8.js"></script>
</head>

<body>
    <div id="content">
        <div>
            <button title="AE('discrete').start();" onclick="AE('discrete').start();">间隔</button>
            <button title="AE('easing').start();" onclick="AE('easing').start();">补帧</button>
            <button title="AE('deMix').start();" onclick="AE('deMix').start();">混合</button>
            <button title="AE('notarget','#testBox2').start();" onclick="AE('notarget','#testBox2').start();">动态套用到testBox2</button>
            <button title="AE('notarget','div[id^='testBox]').start();" onclick="AE('notarget','div[id^=\'testBox\']').start();">动态套用到所有testBox</button>
            <button title="AE('easingcolor').start();" onclick="AE('easingcolor').start();">颜色</button>
            <button title="AE('fx').start();" onclick="AE('fx').start();">缓动效果</button>
            <button onclick="AE.engine.stop();">停止</button>
            <button onclick="AE.design.init('content');">设计器，施工中</button>
            <button onclick="AE.design.close();">关闭设计器</button>
        </div>
        <div id="testBox">
            <p>testBox</p>
        </div>
        <div id="testBox2">
            <p>testBox2</p>
        </div>
        <div id="testBox3">
            <p>testBox3</p>
        </div>
        <div id="testBox4">
            <p>testBox4</p>
        </div>
        <div id="testBox5">
            <p>testBox5</p>
        </div>
        <div id="testBox6">
            <p>testBox6</p>
        </div>
    </div>
    <storyboard id="discrete">
        <animation target="#testBox" property="margin-left" repeat="1" reverse="true">
            <discrete time="0" value="0"></discrete>
            <discrete time="500" value="50px"></discrete>
        </animation>
        <animation target="#testBox2" property="margin-left" repeat="1" reverse="true">
            <discrete time="0" value="0"></discrete>
            <discrete time="500" value="150px"></discrete>
        </animation>
        <animation target="#testBox3" property="margin-left" repeat="1" reverse="true">
            <discrete time="0" value="0"></discrete>
            <discrete time="500" value="250px"></discrete>
        </animation>
        <animation target="#testBox4" property="margin-left" repeat="1" reverse="true">
            <discrete time="0" value="0"></discrete>
            <discrete time="500" value="350px"></discrete>
        </animation>
        <animation target="#testBox5" property="margin-left" repeat="1" reverse="true">
            <discrete time="0" value="0"></discrete>
            <discrete time="500" value="450px"></discrete>
        </animation>
        <animation target="#testBox6" property="margin-left" repeat="1" reverse="true">
            <discrete time="0" value="0"></discrete>
            <discrete time="500" value="550px"></discrete>
        </animation>
    </storyboard>
    <storyboard id="easing">
        <animation target="#testBox" property="margin-left" repeat="2" reverse="true">
            <easing time="0" value="0" suffix="px"></easing>
            <easing time="500" value="50" suffix="px"></easing>
        </animation>
        <animation target="#testBox2" property="margin-left" repeat="1" reverse="true">
            <easing time="0" value="0" suffix="px"></easing>
            <easing time="500" value="150" suffix="px"></easing>
        </animation>
        <animation target="#testBox3" property="margin-left" repeat="1" reverse="true">
            <easing time="0" value="0" suffix="px"></easing>
            <easing time="500" value="250" suffix="px"></easing>
        </animation>
        <animation target="#testBox" property="opacity" repeat="1" reverse="true">
            <easing time="0" value="1"></easing>
            <easing time="500" value="0"></easing>
        </animation>
        <animation target="#testBox2" property="opacity" repeat="1" reverse="true">
            <easing time="0" value="1"></easing>
            <easing time="500" value="0"></easing>
        </animation>
        <animation target="#testBox3" property="opacity" repeat="1" reverse="true">
            <easing time="0" value="1"></easing>
            <easing time="500" value="0"></easing>
        </animation>
        <animation target="#testBox4" property="margin-left" repeat="1" reverse="true">
            <easing time="0" value="0" suffix="px"></easing>
            <easing time="500" value="350" suffix="px"></easing>
        </animation>
        <animation target="#testBox5" property="margin-left" repeat="1" reverse="true">
            <easing time="0" value="0" suffix="px"></easing>
            <easing time="500" value="450" suffix="px"></easing>
        </animation>
        <animation target="#testBox6" property="margin-left" repeat="1" reverse="true">
            <easing time="0" value="0" suffix="px"></easing>
            <easing time="500" value="550" suffix="px"></easing>
        </animation>
        <animation target="#testBox" property="border-color" repeat="2">
            <easingcolor time="0" value="ff0000" prefix="#"></easingcolor>
            <easingcolor time="500" value="00ff00" prefix="#"></easingcolor>
            <easingcolor time="1000" value="0000ff" prefix="#"></easingcolor>
            <easingcolor time="1500" value="ff0000" prefix="#"></easingcolor>
        </animation>
    </storyboard>
    <storyboard id="deMix">
        <animation target="#testBox" property="margin-left" repeat="1">
            <discrete time="0" value="0" suffix="px"></discrete>
            <discrete time="500" value="50" suffix="px"></discrete>
            <easing time="500" value="50" suffix="px"></easing>
            <easing time="1000" value="0" suffix="px"></easing>
        </animation>
        <animation target="#testBox2" property="margin-left" repeat="1">
            <discrete time="0" value="0" suffix="px"></discrete>
            <discrete time="500" value="150" suffix="px"></discrete>
            <easing time="500" value="150" suffix="px"></easing>
            <easing time="1000" value="0" suffix="px"></easing>
        </animation>
        <animation target="#testBox3" property="margin-left" repeat="1">
            <discrete time="0" value="0" suffix="px"></discrete>
            <discrete time="500" value="250" suffix="px"></discrete>
            <easing time="500" value="250" suffix="px"></easing>
            <easing time="1000" value="0" suffix="px"></easing>
        </animation>
        <animation target="#testBox4" property="margin-left" repeat="1">
            <discrete time="0" value="0" suffix="px"></discrete>
            <discrete time="500" value="350" suffix="px"></discrete>
            <easing time="500" value="350" suffix="px"></easing>
            <easing time="1000" value="0" suffix="px"></easing>
        </animation>
        <animation target="#testBox5" property="margin-left" repeat="1">
            <discrete time="0" value="0" suffix="px"></discrete>
            <discrete time="500" value="450" suffix="px"></discrete>
            <easing time="500" value="450" suffix="px"></easing>
            <easing time="1000" value="0" suffix="px"></easing>
        </animation>
        <animation target="#testBox6" property="margin-left" repeat="1">
            <discrete time="0" value="0" suffix="px"></discrete>
            <discrete time="500" value="550" suffix="px"></discrete>
            <easing time="500" value="550" suffix="px"></easing>
            <easing time="1000" value="0" suffix="px"></easing>
        </animation>
    </storyboard>
    <storyboard id="notarget">
        <animation target="" property="margin-left" repeat="-1">
            <easing time="0" value="0" type="test" suffix="px"></easing>
            <easing time="500" value="150" type="test" suffix="px"></easing>
            <easing time="1000" value="0" type="test" suffix="px"></easing>
        </animation>
    </storyboard>
    <storyboard id="easingcolor">
        <animation target="#testBox" property="border-color" repeat="2">
            <easingcolor time="0" value="ff0000" prefix="#"></easingcolor>
            <easingcolor time="500" value="00ff00" prefix="#"></easingcolor>
            <easingcolor time="1000" value="0000ff" prefix="#"></easingcolor>
            <easingcolor time="1500" value="ff0000" prefix="#"></easingcolor>
        </animation>
    </storyboard>
    <storyboard id="fx">
        <animation target="#testBox" property="margin-left" repeat="1">
            <easing time="0" value="0" suffix="px"></easing>
            <easing time="1000" value="500" suffix="px"></easing>
        </animation>
        <animation target="#testBox2" property="margin-left" repeat="1">
            <easing time="0" value="0" type="easeInCirc" suffix="px"></easing>
            <easing time="1000" value="0" type="easeInCirc" suffix="px"></easing>
            <easing time="2000" value="500" type="easeInCirc" suffix="px"></easing>
        </animation>
        <animation target="#testBox3" property="margin-left" repeat="1">
            <easing time="0" value="0" type="easeInBack" suffix="px"></easing>
            <easing time="2000" value="0" type="easeInBack" suffix="px"></easing>
            <easing time="3000" value="500" type="easeInExpo" suffix="px"></easing>
        </animation>
        <animation target="#testBox4" property="margin-left" repeat="1">
            <easing time="0" value="0" type="cubicBezier" param=".84,.05" suffix="px"></easing>
            <easing time="3000" value="0" type="cubicBezier" param=".84,.05" suffix="px"></easing>
            <easing time="4000" value="500" type="cubicBezier" param=".84,.05" suffix="px"></easing>
        </animation>
    </storyboard>
    <script type="text/javascript" src="animationEngine.js"></script>
    <script type="text/javascript" src="animationEngine.action.js"></script>
    <script type="text/javascript" src="animationEngine.way.js"></script>
    <script type="text/javascript" src="animationEngine.design.js"></script>
    <script type="text/javascript">
    AE.engine.cache();
    var sb = AE.engine.findStoryBoard('easing').start();
    </script>
    <!-- 设计器相关，施工中，待分离 -->
    <style type="text/css">
    .design {
        border: 1px solid red;
        margin: 10px;
        padding: 10px;
        position: fixed;
        background-color: white;
        box-shadow: 4px 4px 3px #333;
        z-index: 9999;
        display: none;
        opacity: 0.2;
    }
    
    .design:hover {
        opacity: 1;
    }
    
    .design * {
        font-family: '微软雅黑';
    }
    
    .design>section {
        background-color: #6DB5FF;
        margin: -10px;
    }
    
    .design>section>p {
        margin: 0px;
        padding: 10px;
        color: #9F2A2A;
        text-shadow: 1px 1px grey;
    }
    
    #designPanel {
        bottom: 10px;
        right: 10px;
    }
    
    #designTimePanel {
        bottom: 10px;
        left: 10px;
    }
    
    .timeLayout * {
        width: auto;
        float: left;
    }
    </style>
    <div id="designPanel" class="design">
        <section>
            <p>设计面板</p>
        </section>
        <p>选中的元素：</p>
        <p id="designTarget"></p>
        <p>元素ID：</p>
        <p id="designTargetId"></p>
        <p>目标属性：</p>
        <select>
            <option>margin-left</option>
            <option>color</option>
            <option>opacity</option>
        </select>
        <p>
            <button>添加层</button>
            <button>生成脚本</button>
        </p>
        <p>
        </p>
    </div>
    <div id="designTimePanel" class="design">
        <section>
            <p>时间轴面板</p>
        </section>
        <div class="timeLayout">
            <p>Layout1</p>
            <p>----------------------------------------------------------------</p>
        </div>
        <div class="timeLayout">
            <p>Layout2</p>
            <p>----------------------------------------------------------------</p>
        </div>
        <p>时间：
            <input type="number" style="width:50px"> 值：
            <input type="text" style="width:50px">
            <button ae-click='a.test'>添加时间点</button>
            <button>播放</button>
            <button>暂停</button>
        </p>
    </div>
    <script type="text/javascript">
    AE.way.scan();
    AE.way.Scope.test = function(e) {
        alert('test ' + e);
    };
    AE.way.Scope.a = {
        test: function(e) {
            alert('test ' + e);
        }
    };
    </script>
</body>

</html>
